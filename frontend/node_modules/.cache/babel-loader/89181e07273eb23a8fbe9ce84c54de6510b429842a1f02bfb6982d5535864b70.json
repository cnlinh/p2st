{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\nexport default {\n  name: \"PageLogin\",\n  components: {\n    Form,\n    Field,\n    ErrorMessage\n  },\n  data() {\n    const schema = yup.object().shape({\n      username: yup.string().required(\"Username is required!\"),\n      password: yup.string().required(\"Password is required!\")\n    });\n    return {\n      loading: false,\n      message: \"\",\n      schema\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    }\n  },\n  created() {\n    if (this.loggedIn) {\n      this.$router.push(\"/home\");\n    }\n  },\n  methods: {\n    async handleLogin(user) {\n      try {\n        this.loading = true;\n        await this.$store.dispatch(\"auth/login\", user);\n        this.$router.push(\"/home\");\n      } catch (error) {\n        this.loading = false;\n        this.message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n        if (this.message === \"Request failed with status code 500\") {\n          this.message = \"Wrong password/username!\";\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["Form","Field","ErrorMessage","yup","name","components","data","schema","object","shape","username","string","required","password","loading","message","computed","loggedIn","$store","state","auth","status","created","$router","push","methods","handleLogin","user","dispatch","error","response","toString"],"sources":["/Users/linhcao/Desktop/NUS/chat-gpt/frontend/src/views/PageLogin.vue"],"sourcesContent":["<template>\n  <div class=\"container-fluid\">\n    <div class=\"row min-vh-100 bg-100\">\n      <div class=\"col-6 d-none d-lg-block\" style=\"--falcon-gutter-x: 0\">\n        <div class=\"card mb-3 h-100 d-flex justify-content-center bg-primary\">\n          <div class=\"tab-content\">\n            <div class=\"tab-pane preview-tab-pane active\" role=\"tabpanel\"\n              aria-labelledby=\"tab-dom-60d68d55-fe26-474c-98d8-62d1587bc3f8\"\n              id=\"dom-60d68d55-fe26-474c-98d8-62d1587bc3f8\">\n              <div class=\"carousel slide overflow-clip\" id=\"carouselExampleCaptions\" data-ride=\"carousel\">\n                <div class=\"carousel-indicators\">\n                  <button class=\"active\" type=\"button\" data-bs-target=\"#carouselExampleCaptions\" data-bs-slide-to=\"0\"\n                    aria-current=\"true\" aria-label=\"Slide 1\"></button>\n                  <button type=\"button\" data-bs-target=\"#carouselExampleCaptions\" data-bs-slide-to=\"1\"\n                    aria-label=\"Slide 2\"></button>\n                  <button type=\"button\" data-bs-target=\"#carouselExampleCaptions\" data-bs-slide-to=\"2\"\n                    aria-label=\"Slide 3\"></button>\n                </div>\n                <div class=\"carousel-inner light\">\n                  <div class=\"carousel-item active\">\n                    <img class=\"d-block w-100\" src=\"../assets/img/generic/8.jpg\" alt=\"First slide\" />\n                    <div class=\"carousel-caption d-none d-md-block\">\n                      <h5 class=\"text-white\">First Slide Heading</h5>\n                      <p>\n                        Lorem ipsum dolor sit amet consectetur adipisicing elit.\n                      </p>\n                    </div>\n                  </div>\n                  <div class=\"carousel-item h-100\">\n                    <img class=\"d-block w-100\" src=\"../assets/img/generic/8.jpg\" alt=\"Second slide\" />\n                    <div class=\"carousel-caption d-none d-md-block\">\n                      <h5 class=\"text-white\">Second Slide Heading</h5>\n                      <p>\n                        Lorem ipsum dolor sit amet consectetur adipisicing elit.\n                      </p>\n                    </div>\n                  </div>\n                  <div class=\"carousel-item h-100\">\n                    <img class=\"d-block w-100\" src=\"../assets/img/generic/8.jpg\" alt=\"Third slide\" />\n                    <div class=\"carousel-caption d-none d-md-block\">\n                      <h5 class=\"text-white\">Third Slide Heading</h5>\n                      <p>\n                        Lorem ipsum dolor sit amet consectetur adipisicing elit\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExampleCaptions\"\n                  data-bs-slide=\"prev\">\n                  <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                  <span class=\"sr-only\">Previous</span>\n                </button>\n\n                <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExampleCaptions\"\n                  data-bs-slide=\"next\">\n                  <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                  <span class=\"sr-only\">Next</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <!--/.bg-holder-->\n      </div>\n      <div class=\"col-sm-10 col-md-6 px-sm-0 align-self-center mx-auto py-5\">\n        <div class=\"row justify-content-center g-0\">\n          <div class=\"col-lg-9 col-xl-8 col-xxl-6\">\n            <div class=\"row flex-between-center\">\n              <div class=\"col-auto\">\n                <h3>Welcome Back!</h3>\n                <h6 class=\"text-500 fs--2\">\n                  Please login to your account to continue.\n                </h6>\n              </div>\n            </div>\n\n            <!-- Login -->\n            <Form @submit=\"handleLogin\" :validation-schema=\"schema\">\n              <div class=\"mb-3\">\n                <label class=\"form-label\" for=\"card-email\">Email address</label>\n                <Field name=\"username\" type=\"email\" class=\"form-control\" id=\"username\" placeholder=\"Enter email\" />\n                <ErrorMessage name=\"username\" class=\"error-feedback text-danger\" />\n              </div>\n              <div class=\"mb-3\">\n                <label class=\"form-label\" for=\"card-password\">Password</label>\n                <Field name=\"password\" type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Enter password\" />\n                <ErrorMessage name=\"password\" class=\"error-feedback text-danger\" />\n              </div>\n              <h6 class=\"text-center text-danger\">\n                {{ this.message }}\n              </h6>\n              <div class=\"row flex-between-center\">\n                <div class=\"col-auto\">\n                  <div class=\"form-check mb-0\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"split-checkbox\" />\n                    <label class=\"form-check-label mb-0\" for=\"split-checkbox\">Remember for 30 days</label>\n                  </div>\n                </div>\n                <div class=\"col-auto\">\n                  <a class=\"fs--1\" href=\"/reset-password\">Forgot Password?</a>\n                </div>\n              </div>\n              <div class=\"mb-3\">\n                <button class=\"btn btn-primary d-block w-100 mt-3\" type=\"submit\">\n                  Log in\n                </button>\n              </div>\n            </Form>\n\n            <div class=\"col-auto fs--1 text-600 text-center\">\n              <span class=\"mb-0 fw-semi-bold\">Don't have an account? </span>\n              <span>\n                <a class=\"fw-bold\" href=\"/register\">Sign up</a>\n              </span>\n            </div>\n\n            <!-- Bottom aligned \n              <footer class=\"footer\">\n                <div class=\"col-auto fs--1 text-600\">\n                  <a class=\"fw-bold\" href=\"../../../pages/authentication/split/register.html\">Help Center</a>\n                </div>\n              </footer>\n              -->\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\n\nexport default {\n  name: \"PageLogin\",\n\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n\n  data() {\n    const schema = yup.object().shape({\n      username: yup.string().required(\"Username is required!\"),\n      password: yup.string().required(\"Password is required!\"),\n    });\n\n    return {\n      loading: false,\n      message: \"\",\n      schema,\n    };\n  },\n\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n  },\n\n  created() {\n    if (this.loggedIn) {\n      this.$router.push(\"/home\");\n    }\n  },\n\n  methods: {\n    async handleLogin(user) {\n      try {\n        this.loading = true;\n        await this.$store.dispatch(\"auth/login\", user);\n        this.$router.push(\"/home\");\n      } catch (error) {\n        this.loading = false;\n        this.message =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n\n        if (this.message === \"Request failed with status code 500\") {\n          this.message = \"Wrong password/username!\";\n        }\n      }\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n@import \"../vendors/simplebar/simplebar.min.css\";\n@import \"../assets/css/user.css\";\n@import \"../assets/css/theme.css\";\n@import \"https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700%7cPoppins:300,400,500,600,700,800,900&amp;display=swap\";\n</style>\n"],"mappings":";AAoIA,SAASA,IAAI,EAAEC,KAAK,EAAEC,YAAW,QAAS,cAAc;AACxD,OAAO,KAAKC,GAAE,MAAO,KAAK;AAE1B,eAAe;EACbC,IAAI,EAAE,WAAW;EAEjBC,UAAU,EAAE;IACVL,IAAI;IACJC,KAAK;IACLC;EACF,CAAC;EAEDI,IAAIA,CAAA,EAAG;IACL,MAAMC,MAAK,GAAIJ,GAAG,CAACK,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC;MAChCC,QAAQ,EAAEP,GAAG,CAACQ,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,uBAAuB,CAAC;MACxDC,QAAQ,EAAEV,GAAG,CAACQ,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,uBAAuB;IACzD,CAAC,CAAC;IAEF,OAAO;MACLE,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE,EAAE;MACXR;IACF,CAAC;EACH,CAAC;EAEDS,QAAQ,EAAE;IACRC,QAAQA,CAAA,EAAG;MACT,OAAO,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,IAAI,CAACC,MAAM,CAACJ,QAAQ;IAC/C;EACF,CAAC;EAEDK,OAAOA,CAAA,EAAG;IACR,IAAI,IAAI,CAACL,QAAQ,EAAE;MACjB,IAAI,CAACM,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;IAC5B;EACF,CAAC;EAEDC,OAAO,EAAE;IACP,MAAMC,WAAWA,CAACC,IAAI,EAAE;MACtB,IAAI;QACF,IAAI,CAACb,OAAM,GAAI,IAAI;QACnB,MAAM,IAAI,CAACI,MAAM,CAACU,QAAQ,CAAC,YAAY,EAAED,IAAI,CAAC;QAC9C,IAAI,CAACJ,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;MAC5B,EAAE,OAAOK,KAAK,EAAE;QACd,IAAI,CAACf,OAAM,GAAI,KAAK;QACpB,IAAI,CAACC,OAAM,GACRc,KAAK,CAACC,QAAO,IACZD,KAAK,CAACC,QAAQ,CAACxB,IAAG,IAClBuB,KAAK,CAACC,QAAQ,CAACxB,IAAI,CAACS,OAAO,IAC7Bc,KAAK,CAACd,OAAM,IACZc,KAAK,CAACE,QAAQ,CAAC,CAAC;QAElB,IAAI,IAAI,CAAChB,OAAM,KAAM,qCAAqC,EAAE;UAC1D,IAAI,CAACA,OAAM,GAAI,0BAA0B;QAC3C;MACF;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}